"use strict";(globalThis.webpackChunkhomanoid_robotics_book=globalThis.webpackChunkhomanoid_robotics_book||[]).push([[70],{5083:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-1/chapter-1","title":"Chapter 1: Introduction to ROS 2 Architecture","description":"Learning Outcomes","source":"@site/docs/module-1/chapter-1.md","sourceDirName":"module-1","slug":"/module-1/chapter-1","permalink":"/Physical-AI-Humanoid-Robotics-Book/ur/docs/module-1/chapter-1","draft":false,"unlisted":false,"editUrl":"https://github.com/KashanKamboh/Physical-AI-Humanoid-Robotics-Book.git/edit/main/docs/module-1/chapter-1.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: Robotic Nervous System (ROS 2)","permalink":"/Physical-AI-Humanoid-Robotics-Book/ur/docs/module-1/intro"},"next":{"title":"Chapter 2: Writing Nodes with rclpy","permalink":"/Physical-AI-Humanoid-Robotics-Book/ur/docs/module-1/chapter-2"}}');var r=n(4848),t=n(8453);const l={sidebar_position:2},o="Chapter 1: Introduction to ROS 2 Architecture",c={},a=[{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Prerequisites Checklist",id:"prerequisites-checklist",level:2},{value:"Required Software Installed",id:"required-software-installed",level:3},{value:"Required Module Completion",id:"required-module-completion",level:3},{value:"Files Needed",id:"files-needed",level:3},{value:"Core Concept Explanation",id:"core-concept-explanation",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"ROS 2 Architecture Overview",id:"ros-2-architecture-overview",level:3},{value:"Key Components",id:"key-components",level:3},{value:"Nodes",id:"nodes",level:4},{value:"Topics",id:"topics",level:4},{value:"Services",id:"services",level:4},{value:"Actions",id:"actions",level:4},{value:"Parameters",id:"parameters",level:4},{value:"ROS 2 vs ROS 1",id:"ros-2-vs-ros-1",level:3},{value:"Diagram or Pipeline",id:"diagram-or-pipeline",level:2},{value:"Runnable Code Example A",id:"runnable-code-example-a",level:2},{value:"Runnable Code Example B",id:"runnable-code-example-b",level:2},{value:"&quot;Try Yourself&quot; Mini Task",id:"try-yourself-mini-task",level:2},{value:"Verification Procedure",id:"verification-procedure",level:2},{value:"What appears in terminal?",id:"what-appears-in-terminal",level:3},{value:"What changes in simulation?",id:"what-changes-in-simulation",level:3},{value:"Checklist for Completion",id:"checklist-for-completion",level:2},{value:"Summary",id:"summary",level:2},{value:"References",id:"references",level:2}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"chapter-1-introduction-to-ros-2-architecture",children:"Chapter 1: Introduction to ROS 2 Architecture"})}),"\n",(0,r.jsx)(i.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,r.jsx)(i.p,{children:"After completing this chapter, you will be able to:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Explain the fundamental concepts of ROS 2 architecture"}),"\n",(0,r.jsx)(i.li,{children:"Identify and describe the main components of the ROS 2 system"}),"\n",(0,r.jsx)(i.li,{children:"Understand the differences between ROS 1 and ROS 2"}),"\n",(0,r.jsx)(i.li,{children:"Create a basic ROS 2 workspace and run simple nodes"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"prerequisites-checklist",children:"Prerequisites Checklist"}),"\n",(0,r.jsx)(i.h3,{id:"required-software-installed",children:"Required Software Installed"}),"\n",(0,r.jsxs)(i.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","ROS 2 Humble Hawksbill (or newer)"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Python 3.8+ with pip"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Git version control"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Basic Linux command line knowledge"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"required-module-completion",children:"Required Module Completion"}),"\n",(0,r.jsxs)(i.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Basic Python programming concepts"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Understanding of distributed systems (recommended)"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"files-needed",children:"Files Needed"}),"\n",(0,r.jsxs)(i.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Completed setup guide from course materials"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Access to ROS 2 documentation"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"core-concept-explanation",children:"Core Concept Explanation"}),"\n",(0,r.jsx)(i.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,r.jsx)(i.p,{children:"Robot Operating System 2 (ROS 2) is not an operating system but rather a flexible framework for writing robot software. It provides services designed for a heterogeneous computer cluster such as hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more."}),"\n",(0,r.jsx)(i.h3,{id:"ros-2-architecture-overview",children:"ROS 2 Architecture Overview"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 uses a distributed architecture based on the Data Distribution Service (DDS) standard. This architecture enables:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decentralized Communication"}),": No central master node required"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Real-time Capabilities"}),": Deterministic message delivery"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Security"}),": Built-in security features"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Multi-language Support"}),": Python, C++, and other languages"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"key-components",children:"Key Components"}),"\n",(0,r.jsx)(i.h4,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(i.p,{children:"A node is a process that performs computation. In ROS 2, nodes are lightweight and can be written in multiple languages. Each node can perform a specific function and communicate with other nodes."}),"\n",(0,r.jsx)(i.h4,{id:"topics",children:"Topics"}),"\n",(0,r.jsx)(i.p,{children:"Topics are named buses over which nodes exchange messages. Publishers send messages to topics, and subscribers receive messages from topics using a publish-subscribe communication pattern."}),"\n",(0,r.jsx)(i.h4,{id:"services",children:"Services"}),"\n",(0,r.jsx)(i.p,{children:"Services provide a request-response communication pattern. A client sends a request to a service, and the service sends back a response."}),"\n",(0,r.jsx)(i.h4,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(i.p,{children:"Actions are similar to services but are designed for long-running tasks. They provide feedback during execution and can be canceled."}),"\n",(0,r.jsx)(i.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(i.p,{children:"Parameters are configuration values that can be set at runtime and accessed by nodes."}),"\n",(0,r.jsx)(i.h3,{id:"ros-2-vs-ros-1",children:"ROS 2 vs ROS 1"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Feature"}),(0,r.jsx)(i.th,{children:"ROS 1"}),(0,r.jsx)(i.th,{children:"ROS 2"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Communication"}),(0,r.jsx)(i.td,{children:"Custom middleware"}),(0,r.jsx)(i.td,{children:"DDS-based"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Master"}),(0,r.jsx)(i.td,{children:"Required (roscore)"}),(0,r.jsx)(i.td,{children:"Optional (DDS discovery)"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Real-time"}),(0,r.jsx)(i.td,{children:"Limited"}),(0,r.jsx)(i.td,{children:"Full support"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Security"}),(0,r.jsx)(i.td,{children:"Limited"}),(0,r.jsx)(i.td,{children:"Built-in security"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Multi-robot"}),(0,r.jsx)(i.td,{children:"Complex"}),(0,r.jsx)(i.td,{children:"Native support"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Quality of Service"}),(0,r.jsx)(i.td,{children:"Limited"}),(0,r.jsx)(i.td,{children:"Advanced QoS policies"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"diagram-or-pipeline",children:"Diagram or Pipeline"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-mermaid",children:"graph TB\r\n    A[ROS 2 Architecture] --\x3e B[Nodes]\r\n    A --\x3e C[DDS Middleware]\r\n    A --\x3e D[Communication Patterns]\r\n\r\n    B --\x3e B1[Publisher Node]\r\n    B --\x3e B2[Subscriber Node]\r\n    B --\x3e B3[Service Client]\r\n    B --\x3e B4[Service Server]\r\n\r\n    C --\x3e C1[Fast DDS]\r\n    C --\x3e C2[Cyclone DDS]\r\n    C --\x3e C3[RTI Connext]\r\n\r\n    D --\x3e D1[Topics<br/>Pub/Sub Pattern]\r\n    D --\x3e D2[Services<br/>Request/Response]\r\n    D --\x3e D3[Actions<br/>Long-running Tasks]\r\n\r\n    B1 --\x3e D1\r\n    B2 --\x3e D1\r\n    B3 --\x3e D2\r\n    B4 --\x3e D2\n"})}),"\n",(0,r.jsx)(i.h2,{id:"runnable-code-example-a",children:"Runnable Code Example A"}),"\n",(0,r.jsx)(i.p,{children:"Let's create a simple publisher node that publishes messages to a topic:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# publisher_member_function.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    minimal_publisher = MinimalPublisher()\r\n\r\n    rclpy.spin(minimal_publisher)\r\n\r\n    # Destroy the node explicitly\r\n    minimal_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"To run this code:"})}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Save it as ",(0,r.jsx)(i.code,{children:"publisher_member_function.py"})]}),"\n",(0,r.jsx)(i.li,{children:"Create a ROS 2 workspace and package if you haven't already"}),"\n",(0,r.jsxs)(i.li,{children:["Run: ",(0,r.jsx)(i.code,{children:"ros2 run <package_name> publisher_member_function"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"runnable-code-example-b",children:"Runnable Code Example B"}),"\n",(0,r.jsx)(i.p,{children:"Now let's create a subscriber that listens to the messages from our publisher:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# subscriber_member_function.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass MinimalSubscriber(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    rclpy.spin(minimal_subscriber)\r\n\r\n    # Destroy the node explicitly\r\n    minimal_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"To run this code:"})}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Save it as ",(0,r.jsx)(i.code,{children:"subscriber_member_function.py"})]}),"\n",(0,r.jsxs)(i.li,{children:["In one terminal, run the publisher: ",(0,r.jsx)(i.code,{children:"ros2 run <package_name> publisher_member_function"})]}),"\n",(0,r.jsxs)(i.li,{children:["In another terminal, run the subscriber: ",(0,r.jsx)(i.code,{children:"ros2 run <package_name> subscriber_member_function"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"try-yourself-mini-task",children:'"Try Yourself" Mini Task'}),"\n",(0,r.jsx)(i.p,{children:'Modify the publisher code to publish a counter that increments every second instead of "Hello World". The message should contain the current time and a counter value.'}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Hint:"})," Use ",(0,r.jsx)(i.code,{children:"time.time()"})," for the timestamp and modify the timer period to 1 second."]}),"\n",(0,r.jsx)(i.h2,{id:"verification-procedure",children:"Verification Procedure"}),"\n",(0,r.jsx)(i.p,{children:"To verify that your ROS 2 setup and code are working correctly:"}),"\n",(0,r.jsx)(i.h3,{id:"what-appears-in-terminal",children:"What appears in terminal?"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"When running the publisher: You should see messages like \"Publishing: 'Hello World: X'\" appearing every 0.5 seconds"}),"\n",(0,r.jsx)(i.li,{children:"When running the subscriber: You should see messages like \"I heard: 'Hello World: X'\" appearing in sync with the publisher"}),"\n",(0,r.jsx)(i.li,{children:"When running both together: Both terminals should show synchronized messages"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"what-changes-in-simulation",children:"What changes in simulation?"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"If connected to a robot or simulation environment, you might see visual indicators of the communication"}),"\n",(0,r.jsx)(i.li,{children:"In RViz2, you might see topic visualization"}),"\n",(0,r.jsxs)(i.li,{children:["System monitoring tools like ",(0,r.jsx)(i.code,{children:"rqt_graph"})," would show the node connections"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"checklist-for-completion",children:"Checklist for Completion"}),"\n",(0,r.jsxs)(i.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","ROS 2 workspace created and sourced"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Publisher node created and running"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Subscriber node created and running"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Both nodes communicating successfully"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Code modified with timestamp counter (Try Yourself task)"]}),"\n",(0,r.jsxs)(i.li,{className:"task-list-item",children:[(0,r.jsx)(i.input,{type:"checkbox",disabled:!0})," ","Verification steps completed successfully"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(i.p,{children:"This chapter introduced the fundamental concepts of ROS 2 architecture, including nodes, topics, services, and actions. You learned how ROS 2 differs from ROS 1 and implemented your first publisher-subscriber pair. The publish-subscribe pattern is the backbone of ROS communication, allowing for decoupled and distributed systems."}),"\n",(0,r.jsx)(i.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["ROS 2 Documentation Team. (2023). ",(0,r.jsx)(i.em,{children:"ROS 2 Humble Hawksbill User Documentation"}),". Retrieved from ",(0,r.jsx)(i.a,{href:"https://docs.ros.org/en/humble/",children:"https://docs.ros.org/en/humble/"})]}),"\n",(0,r.jsxs)(i.li,{children:["Quigley, M., Gerkey, B., & Smart, W. D. (2015). ",(0,r.jsx)(i.em,{children:"Programming Robots with ROS: A Practical Introduction to the Robot Operating System"}),". O'Reilly Media. ISBN: 978-1449323899."]}),"\n",(0,r.jsxs)(i.li,{children:["Open Source Robotics Foundation. (2023). ",(0,r.jsx)(i.em,{children:"ROS 2 Design Articles"}),". Retrieved from ",(0,r.jsx)(i.a,{href:"https://design.ros2.org/",children:"https://design.ros2.org/"})]}),"\n",(0,r.jsx)(i.li,{children:"Source 001: Quigley et al. (2015) - Comprehensive coverage of ROS programming fundamentals"}),"\n",(0,r.jsx)(i.li,{children:"Source 002: ROS 2 Design Article - Middleware architecture and QoS policies"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>o});var s=n(6540);const r={},t=s.createContext(r);function l(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);